<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta name="format-detection" content="telephone=no"> -->
    <title>极光磁力后台管理</title>
    <script
            src="https://code.jquery.com/jquery-3.4.1.js"
            integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
            crossorigin="anonymous"></script>

    <script src="./source/js/bootstrap.min.js"></script>
<!--    <script src="./source/js/backstageSelf.js"></script>-->

    <!-- 引入bootstrap-table样式 -->
    <link href="./source/css/bootstrap-table.css" rel="stylesheet">
    <!-- bootstrap-table.min.js -->
    <script src="./source/js/bootstrap-table.js"></script>
    <!-- 引入中文语言包 -->
    <!--		<script src="css/bootstrap-table-zh-CN.js"></script>-->

    <link href="./source/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="./source/css/common.css"/>
    <link rel="stylesheet" type="text/css" href="./source/css/slide.css"/>
    <link rel="stylesheet" type="text/css" href="./source/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="./source/css/flat-ui.min.css"/>
    <link rel="stylesheet" type="text/css" href="./source/css/jquery.nouislider.css">

    <style>
        #table-thead {
            width: 80px !important;
        }

        /*#magnetLinksTable tr td{*/
        /*}*/

        table {
            table-layout: fixed;
        }

        #magnetLinksTable td{
            width: 10% !important;
            white-space: nowrap !important;
            overflow: hidden !important;
            text-overflow: ellipsis !important;
        }
        #magnetLinksTable th{
            width: 10% !important;
            white-space: nowrap !important;
            overflow: hidden !important;
            text-overflow: ellipsis !important;
        }

        #magnetLinksTable td:nth-child(1){
            width: 5% !important;
        }
        #magnetLinksTable td:nth-child(2){
            width: 5% !important;
        }
        #magnetLinksTable td:nth-child(3){
            width: 15% !important;
        }

        #magnetLinksTable th:nth-child(1){
            width: 5% !important;
        }
        #magnetLinksTable th:nth-child(2){
            width: 5% !important;
        }
        #magnetLinksTable th:nth-child(3){
            width: 15% !important;
        }

        #params-table td span{
            width: 133px !important;
        }

        #logoDiv{
            background-color: rgba(15,133,151,0.83) !important;
            color: whitesmoke !important;
        }

        .leftMeun{
            background-color: #9cd0db !important;
            color: whitesmoke !important;
        }

    </style>

</head>

<body>
<div id="wrap" class="container-fluid">
    <!-- 左侧菜单栏目块 -->
    <div class="leftMeun" id="leftMeun">
        <div id="logoDiv">
            <p id="logoP"><img id="logo" alt="极光磁力管理端"
                               src="./source/images/Aicon.png"><span>极光磁力管理端</span>
            </p>
        </div>
        <div id="personInfor">
            <p id="userName">Aurora Magnet</p>
            <p><span>928946604@qq.com</span></p>
            <p>
                <a>退出登录</a>
            </p>
        </div>
        <div class="meun-title">账号管理</div>
        <div class="meun-item active" id="userManager" href="#user" aria-controls="user" role="tab" data-toggle="tab">
            <img src="./source/images/icon_user_grey.png">用户管理
        </div>
        <div class="meun-item" id="magnetLinksManager" href="#file" aria-controls="file" role="tab" data-toggle="tab"><img
                src="./source/images/icon_user_grey.png">磁力链接资源管理
        </div>
<!--        <div class="meun-item" id="changePsw" href="#chan" aria-controls="chan" role="tab" data-toggle="tab"><img-->
<!--                src="./source/images/icon_change_grey.png">修改密码-->
<!--        </div>-->

        <div class="meun-item" id="setCrawlerParams" href="#crawlerParams" aria-controls="crawlerParams" role="tab" data-toggle="tab"><img
                src="./source/images/icon_change_grey.png">爬虫参数设置
        </div>
    </div>

    <!-- 右侧具体内容栏目 -->
    <div id="rightContent" class="">
        <a class="toggle-btn" id="nimei">
            <i class="glyphicon glyphicon-align-justify"></i>
        </a>
        <!-- Tab panes -->
        <div class="tab-content">

            <!--用户管理模块-->
            <div role="tabpanel" class="tab-pane active" id="user">
                <div class="check-div form-inline">
                    <div class="col-xs-2">
                        <button class="btn btn-yellow btn-xs" data-toggle="modal" data-target="#addUser">添加用户</button>
                    </div>

                    <div class="col-xs-3">
                        <div class="col-xs-5"><span>查询项目:&nbsp;</span></div>
                        <label>
                            <div style="display: inline">
                                <select class=" form-control" id="searchSelect">
                                    <option value="nofield">模糊查询</option>
                                    <option value="id">用户id</option>
                                    <option value="email">用户邮箱</option>
                                    <option value="phone">用户手机</option>
                                </select>
                            </div>
                        </label>

                    </div>

                    <div class="col-xs-4">
                        <input type="text" class="form-control input-sm" placeholder="输入文字搜索" id="SearchContent">
                        <button class="btn btn-white btn-xs " id="btnSearch" onclick="showSearchUserInfo();">查 询
                        </button>
                    </div>
                    <!--							<div class="col-lg-3 col-lg-offset-2 col-xs-4" style=" padding-right: 40px;text-align: right;">-->
                    <!--								<label>排序:&nbsp;</label>-->
                    <!--								<select class=" form-control">-->
                    <!--									<option>性别</option>-->
                    <!--									<option>年龄</option>-->
                    <!--									<option>份数</option>-->
                    <!--								</select>-->
                    <!--							</div>-->
                </div>

                <!-- 可以改用列表 -->
                <!--表格列表-->
                <div class="panel panel-default panel-bs-table-myself-style">
                    <div class="panel-heading" id="cur_dir">用户列表</div>
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover text-nowrap" id="bs-table-list-myself">
                                <!--table-bordered-->
                                <thead class="w-100">
                                <tr id="table-thead" class="row">
                                    <th class="col-1">#</th>
                                    <th class="col-1">用户id</th>
                                    <th class="col-1">用户名</th>
                                    <th class="col-1">用户密码</th>
                                    <th class="col-3">手机</th>
                                    <th class="col-3">邮箱</th>
                                    <th class="col-1">地区&nbsp;<span class="glyphicon glyphicon-arrow-down small"></span>
                                    </th>
                                    <th class="col-2">操作</th>
                                </tr>
                                </thead>
                                <tbody id="table_body" class="w-100">
                                <tr class="row">
                                    <td class="col-1">#</td>
                                    <td class="col-1">id</td>
                                    <td class="col-2">name</td>
                                    <td class="col-3">13202561009</td>
                                    <td class="col-3">928946604@qq.com</td>
                                    <td class="col-1">location</td>
                                    <td class="col-2">
                                        <button class="btn btn-success btn-xs" data-toggle="modal"
                                                data-target="#reviseUser">修改
                                        </button>
                                        <button class="btn btn-danger btn-xs" data-toggle="modal"
                                                data-target="#deleteUser">删除
                                        </button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>

                </div>

                <!--弹出添加用户窗口-->
                <div class="modal fade" id="addUser" role="dialog" aria-labelledby="gridSystemModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                        aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title">添加用户</h4>   <!--id="gridSystemModalLabel"-->
                            </div>
                            <div class="modal-body">
                                <div class="container-fluid">
                                    <form class="form-horizontal">
                                        <div class="form-group ">
                                            <label for="sName1" class="col-xs-3 control-label">用户名：</label>
                                            <div class="col-xs-8 ">
                                                <input type="text" class="form-control input-sm align" id="sName1"
                                                       placeholder="">
                                            </div>
                                        </div>

                                        <div class="form-group ">
                                            <label for="sPsw1" class="col-xs-3 control-label">用户密码：</label>
                                            <div class="col-xs-8 ">
                                                <input type="text" class="form-control input-sm align" id="sPsw1"
                                                       placeholder="">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="sEmail1" class="col-xs-3 control-label">电子邮箱：</label>
                                            <div class="col-xs-8">
                                                <input type="email" class="form-control input-sm align" id="sEmail1"
                                                       placeholder="">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="sPhone1" class="col-xs-3 control-label">电话：</label>
                                            <div class="col-xs-8">
                                                <input type="" class="form-control input-sm align" id="sPhone1"
                                                       placeholder="">
                                            </div>
                                        </div>

<!--                                        <div class="form-group">-->
<!--                                            <label class="col-xs-3 control-label">权限：</label>-->
<!--                                            <div class="col-xs-8">-->
<!--                                                <select class=" form-control select-duiqi">-->
<!--                                                    <option value="">管理员</option>-->
<!--                                                    <option value="">普通用户</option>-->
<!--                                                </select>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                        <div class="form-group">-->
<!--                                            <label class="col-xs-3 control-label">状态：</label>-->
<!--                                            <div class="col-xs-8">-->
<!--                                                <label class="control-label">-->
<!--                                                    <input type="radio" name="situation" id="normalState2">正常</label>-->
<!--                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-->
<!--                                                <label class="control-label">-->
<!--                                                    <input type="radio" name="situation" id="forbidState2"> 禁用</label>-->
<!--                                            </div>-->
<!--                                        </div>-->
                                    </form>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-xs btn-white" data-dismiss="modal">取 消</button>
                                <button type="button" class="btn btn-xs btn-green">保 存</button>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <!-- /.modal -->

                <!--弹出修改用户窗口-->
                <div class="modal fade" id="reviseUser" role="dialog" aria-labelledby="gridSystemModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                        aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title">修改用户(id：
                                    <span id="chUserInfoSpan"></span>)</h4>   <!--id="gridSystemModalLabel"-->
                            </div>
                            <div class="modal-body">
                                <div class="container-fluid">
                                    <form class="form-horizontal">
                                        <div class="form-group ">
                                            <label for="UserInfoName" class="col-xs-3 control-label">用户名：</label>
                                            <div class="col-xs-8 ">
                                                <input type="email" class="form-control input-sm align"
                                                       id="UserInfoName" placeholder="">
                                            </div>
                                        </div>

                                        <div class="form-group ">
                                            <label for="UserInfoPsw" class="col-xs-3 control-label">用户密码：</label>
                                            <div class="col-xs-8 ">
                                                <input type="text" class="form-control input-sm align" id="UserInfoPsw"
                                                       placeholder="">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="UserInfoMail" class="col-xs-3 control-label">电子邮箱：</label>
                                            <div class="col-xs-8">
                                                <input type="" class="form-control input-sm align" id="UserInfoMail"
                                                       placeholder="">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="UserInfoPhone" class="col-xs-3 control-label">电话：</label>
                                            <div class="col-xs-8">
                                                <input type="" class="form-control input-sm align" id="UserInfoPhone"
                                                       placeholder="">
                                            </div>
                                        </div>

<!--                                        <div class="form-group">-->
<!--                                            <label for="sPhone" class="col-xs-3 control-label">权限：</label>-->
<!--                                            <div class="col-xs-8">-->
<!--                                                <select class=" form-control select-duiqi" id="sPhone">-->
<!--                                                    <option value="admin">管理员</option>-->
<!--                                                    <option value="com_user">普通用户</option>-->
<!--                                                </select>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                        <div class="form-group">-->
<!--                                            <label class="col-xs-3 control-label">状态：</label>-->
<!--                                            <div class="col-xs-8">-->
<!--                                                <label class="control-label">-->
<!--                                                    <input type="radio" name="situation" id="normalState">正常</label>-->
<!--                                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-->
<!--                                                <label class="control-label">-->
<!--                                                    <input type="radio" name="situation" id="forbidState"> 禁用</label>-->
<!--                                            </div>-->
<!--                                        </div>-->
                                    </form>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-xs btn-white" data-dismiss="modal">取 消</button>
                                <button type="button" class="btn btn-xs btn-green" id="btnChangeUserInfo">确 认</button>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <!-- /.modal -->

                <!--弹出删除用户警告窗口-->
                <div class="modal fade" id="deleteUser" role="dialog" aria-labelledby="gridSystemModalLabel"
                     style="margin-top: 200px;">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                        aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="gridSystemModalLabel">提示</h4>
                            </div>
                            <div class="modal-body">
                                <div class="container-fluid">
                                    确定要删除该用户（<span id="delUserIdSpan"></span>）？删除后不可恢复！
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-xs btn-white" data-dismiss="modal">取 消</button>
                                <button type="button" class="btn  btn-xs btn-danger" id="btnDelUserSure">确 认</button>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <!-- /.modal -->

            </div>    <!--用户管理模块-->


            <!--磁力链接资源管理模块-->
            <div role="tabpanel" class="tab-pane" id="file">
                <div class="check-div form-inline">

                    <div class="col-xs-4">
                        <input type="text" class="form-control input-sm" placeholder="输入磁力链接关键字搜索">
                        <button class="btn btn-white btn-xs " id="btnFindLinks">查 询 磁 力 链 接</button>
                    </div>

                </div>

                <!-- 可以改用列表 -->
                <!--表格列表-->
                <div class="panel panel-default panel-bs-table-myself-style">
                    <div class="panel-heading" id="cur_dir_magnet_list" title="">磁力链接列表
                        <button type="button" class="btn btn-xs btn-white" id="btnBack" disabled="disabled">上一页</button>
                        <button type="button" class="btn btn-xs btn-green" id="btnNext">下一页</button>
                    </div>
                    <div class="panel-body">
                        <div  class="table-responsive">
<!--                            class="table-responsive"-->
                            <table class="table table-striped table-hover text-nowrap" id="magnetLinksTable"> <!--table-bordered-->
                                <thead class="w-100">
                                <tr class="row">
                                    <th>#</th>
                                    <th>pid</th>
                                    <th>magnetLinkKey</th>
                                    <th>fromWhichSe</th>
                                    <th>crawledDate</th>
                                    <th>magnetLinkFileSize</th>
                                    <th>magnetLink</th>
                                    <th>操作</th>
                                </tr>
                                </thead>
                                <tbody class="w-100">
                                <tr class="row">
                                    <td class="col-1">#</td>
                                    <td class="col-1">11</td>
                                    <td class="col-1">xsadda</td>
                                    <td class="col-1">torrentkitty'</td>
                                    <td class="col-1">2020-06-20</td>
                                    <td class="col-1">2GB</td>
                                    <td class="col-1">magnetLink</td>
                                    <td class="col-1">操作</td>
<!--                                    <td class="col-3 text-center">-->
<!--                                        <button class="btn btn-danger btn-xs" data-toggle="modal">删除</button>-->
<!--                                    </td>-->
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>


                <!-- 修改链接弹窗-->
                <div class="modal fade" id="changeMagnetInfo" role="dialog" aria-labelledby="gridSystemModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                        aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title">修改链接(链接id：
                                    <span id="chMagnetInfoSpan"></span>)</h4>   <!--id="gridSystemModalLabel"-->
                            </div>
                            <div class="modal-body">
                                <div class="container-fluid">
                                    <form class="form-horizontal">
                                        <div class="form-group ">
                                            <label for="inputMagnetInfoName" class="col-xs-3 control-label">链接名：</label>
                                            <div>
                                                <input type="text" class="form-control input-sm align"
                                                       id="inputMagnetInfoName" placeholder="" style="width: 200px !important;">
                                            </div>
                                        </div>

                                        <div class="form-group ">
                                            <label for="inputFromWhichSe" class="col-xs-3 control-label">链接来源：</label>
                                            <div>
                                                <input type="text" class="form-control input-sm align"
                                                       id="inputFromWhichSe" placeholder="" style="width: 200px !important;">
                                            </div>
                                        </div>

                                        <div class="form-group ">
                                            <label for="inputMagnetLink" class="col-xs-3 control-label">磁力链接：</label>
                                            <div>
                                                <input type="text" class="form-control input-sm align"
                                                       id="inputMagnetLink" placeholder="" style="width: 200px !important;">
                                            </div>
                                        </div>

                                    </form>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-xs btn-white" data-dismiss="modal">取 消</button>
                                <button type="button" class="btn btn-xs btn-green" id="btnChangeMagnetInfo">确 认</button>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <!-- /.modal -->

                <!--弹出删除磁力链接警告窗口-->
                <div class="modal fade" id="deleteMagnetLink" role="dialog" aria-labelledby="gridSystemModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                        aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title">提示</h4>
                            </div>
                            <div class="modal-body">
                                <div class="container-fluid">
                                    确定要删除该磁力(pid:<span id="delMagnetLinkSpan"></span>)链接？删除后不可恢复！
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-xs btn-white" data-dismiss="modal">取 消</button>
                                <button type="button" class="btn  btn-xs btn-danger" id="btnDelLink">确 认</button>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <!-- /.modal -->

            </div><!--  磁力链接管理模块-->


            <!-- 修改密码模块 -->
<!--            <div role="tabpanel" class="tab-pane" id="chan">-->
<!--                <div class="check-div form-inline">-->

<!--                    <div class="col-xs-4">-->
<!--                        <input type="text" class="form-control input-sm" placeholder="输入（用户id/ 用户名）">-->
<!--                        <button class="btn btn-white btn-xs ">查 询</button>-->
<!--                    </div>-->

<!--                </div>-->

<!--                &lt;!&ndash; 可以改用列表 &ndash;&gt;-->
<!--                &lt;!&ndash;表格列表&ndash;&gt;-->
<!--                <div class="panel panel-default panel-bs-table-myself-style">-->
<!--                    <div class="panel-heading" id="cur_user_files_list">当前查得用户资源</div>-->
<!--                    <div class="panel-body">-->
<!--                        <div class="table-responsive">-->
<!--                            <table class="table table-striped table-hover text-nowrap" id="chp-table">-->
<!--                                &lt;!&ndash;table-bordered&ndash;&gt;-->
<!--                                <thead class="w-100">-->
<!--                                <tr class="row">-->
<!--                                    <th class="col-1">#</th>-->
<!--                                    <th class="col-1">pid</th>-->
<!--                                    <th class="col-2">magnetLinkKey</th>-->
<!--                                    <th class="col-1">fromWhichSe</th>-->
<!--                                    <th class="col-1">crawledDate</th>-->
<!--                                    <th class="col-1">magnetLinkFileSize</th>-->
<!--                                    <th class="col-2">magnetLink</th>-->
<!--                                    <th class="col-2">操作</th>-->
<!--                                </tr>-->
<!--                                </thead>-->
<!--                                <tbody class="w-100">-->
<!--                                <tr class="row">-->
<!--                                    <td class="col-1">#</td>-->
<!--                                    <td class="col-1">11</td>-->
<!--                                    <td class="col-2">xsadda</td>-->
<!--                                    <td class="col-1">torrentkitty'</td>-->
<!--                                    <td class="col-1">2020-06-20</td>-->
<!--                                    <td class="col-1">2GB</td>-->
<!--                                    <td class="col-2">magnetLink</td>-->
<!--                                    <td class="col-2">操作</td>-->
<!--                                </tr>-->
<!--                                </tbody>-->
<!--                            </table>-->
<!--                        </div>-->

<!--                    </div>-->

<!--                </div>-->


<!--                &lt;!&ndash;弹出修改密码窗口&ndash;&gt;-->
<!--                <div class="modal fade" id="changeUserPsw" role="dialog" aria-labelledby="gridSystemModalLabel"-->
<!--                     style="margin-top: 200px;">-->
<!--                    <div class="modal-dialog" role="document">-->
<!--                        <div class="modal-content">-->
<!--                            <div class="modal-header">-->
<!--                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span-->
<!--                                        aria-hidden="true">&times;</span></button>-->
<!--                                <h6 class="modal-title">修改用户(id:<span id="chPswUser"></span>)密码</h6>-->
<!--                                &lt;!&ndash;id="gridSystemModalLabel"&ndash;&gt;-->
<!--                            </div>-->
<!--                            <div class="modal-body">-->
<!--                                <div class="container-fluid">-->
<!--                                    <form class="form-horizontal" id="formChangPsw">-->

<!--                                        <div class="form-group">-->
<!--                                            <label for="newPsw" class="col-xs-3 control-label">重置的新密码：</label>-->
<!--                                            <div class="col-xs-8">-->
<!--                                                <input class="form-control input-sm align" id="newPsw" placeholder="">-->
<!--                                            </div>-->
<!--                                        </div>-->

<!--                                    </form>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                            <div class="modal-footer">-->
<!--                                <button type="button" class="btn btn-xs btn-white" data-dismiss="modal">取 消</button>-->
<!--                                <button type="button" class="btn btn-xs btn-green" id="btnChangePsw">修 改</button>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        &lt;!&ndash; /.modal-content &ndash;&gt;-->
<!--                    </div>-->
<!--                    &lt;!&ndash; /.modal-dialog &ndash;&gt;-->
<!--                </div>-->


<!--            </div>-->


            <!-- 爬虫参数设置模块 -->
            <div role="tabpanel" class="tab-pane" id="crawlerParams">
                <div class="check-div form-inline">

                </div>

                <!-- 可以改用列表 -->
                <!--表格列表-->
                <div class="panel panel-default panel-bs-table-myself-style">
                    <div class="panel-heading" id="setParams">
                        ElasticSearch操作
                        <button style="margin-left: 130px;" class="btn btn-xs btn-green" id="createIndex">创建索引库</button>
                        <button class="btn btn-xs btn-danger" id="deleteIndex">删除索引库</button>
                        <button class="btn btn-xs btn-default" id="syncIndex">同步数据库和索引库</button>
                    </div>
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover text-nowrap" id="params-table">
                                <!--table-bordered-->
                                <thead class="w-100">
                                <tr class="row">
                                    Spider和Site参数配置
                                </tr>
                                </thead>
                                <tbody class="w-100">
                                <tr class="row">
                                    <td>
                                        <span>定时爬取的来源网站</span>
                                    </td>
                                    <td>
                                        <input type="text" id="inputFromSe">
                                    </td>
                                </tr>
                                <tr class="row">
                                    <td>
                                        <span>爬虫线程数</span>
                                    </td>
                                    <td>
                                        <input type="text" id="inputThreadNum">
                                    </td>
                                </tr>
                                <tr class="row">
                                    <td>
                                        <span>定时任务 表达式cron</span>
                                    </td>
                                    <td>
                                        <input type="text" id="inputCron">
                                    </td>
                                </tr>
                                <tr class="row">
                                    <td>
                                        <span>Site编码</span>
                                    </td>
                                    <td>
                                        <input type="text" id="inputCharset">
                                    </td>
                                </tr>
                                <tr class="row">
                                    <td>
                                        <span>Site超时时间</span>
                                    </td>
                                    <td>
                                        <input type="text" id="inputTimeOut">
                                    </td>
                                </tr>
                                <tr class="row">
                                    <td>
                                        <span>Site重试次数</span>
                                    </td>
                                    <td>
                                        <input type="text" id="inputRetryTimes">
                                    </td>
                                </tr>
                                <tr class="row">
                                    <td>
                                        <span>代理</span>
                                    </td>
                                    <td>
                                        <input type="text" id="inputProxy">
                                    </td>
                                </tr>

                                <tr class="row">
                                    <td>
                                        <button class="btn btn-success btn-xs" data-toggle="modal"
                                                id="changeParameter" onclick="changeParaFun();"
                                                data-target="#">修改
                                        </button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>

                </div>
            </div>

        </div>
    </div>
</div>

</body>

</html>

<!--<script src="source/js/bg.js"></script>-->
<script>

    //初始化界面
    window.onload = function () {
        getUserTable("");
    }

    //获取所有用户信息
    function getUserTable(jsonData) {
        //清空列表内容
        $('#bs-table-list-myself tbody').empty();

        //修改表格标题头文本
        var thead = "<tr>" +
            "<th class='col-1'>#</th>" +
            "<th class='col-1'>用户id</th>" +
            "<th class='col-1'>用户名</th>" +
            "<th class='col-1'>用户密码</th>" +
            "<th class='col-3'>手机</th>" +
            "<th class='col-3'>邮箱</th> " +
            "<th class='col-2'>操作</th><tr>"
        $('#bs-table-list-myself thead').html(thead);

        var xhr = new XMLHttpRequest();
        xhr.request = "json";
        xhr.onload = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {


                var jsonObj = JSON.parse(xhr.responseText);

                if (jsonData !=="" && jsonData !==null){
                    jsonObj = JSON.parse(jsonData);
                    // jsonObj = json;
                }

                // console.log(jsonObj.content[0]);
                // uBirthday: "2000-06-19T00:00:00.000+0000"
                // uCreateDate: "2020-06-10T00:00:00.000+0000"
                // uEmail: null
                // uId: 1
                // uName: "evan"
                // uPassword: "123"
                // uPhone: null
                // uRank:
                var str = 0;
                for (var j of jsonObj.content){

                    //新建tr-->一行内容
                    var newTr = document.createElement('tr');
                    newTr.style.marginLeft = '50px';

                    var newTd1 = document.createElement('td');

                    //序号
                    newTd1.innerHTML = "<td>"+ (str+1) +"</td>";
                    newTr.append(newTd1);

                    var jArr = [j.uId,j.uName,j.uPassword,j.uPhone, j.uEmail];
                    for (var t = 0;t<5;t++){
                        //动态新建td
                        var newTd = document.createElement('td');

                        var TestStr = jArr[t];
                        // if (t === 2){
                        //     TestStr = TestStr.replace(/\\/g,"/");
                        // }

                        var innerText = document.createTextNode(TestStr);
                        newTd.appendChild(innerText);
                        newTr.append(newTd);

                    }

                    //按钮
                    var newTd2 = document.createElement('td');
                    newTd2.innerHTML = "<td class='col-2'><button class='btn btn-success btn-xs' data-toggle='modal' >修改</button><button class=\"btn btn-danger btn-xs\" data-toggle=\"modal\">删除</button> </td>";

                    /**
                     * uid	int	11
                     * uname	varchar	45
                     * upassword	varchar	20
                     * ubirthday	date	0
                     * urank	int	3
                     * ucreateDate	date	0
                     * uphone	varchar	30
                     * uemail	varchar	40
                     */
                    newTd2.getElementsByTagName('button')[0].setAttribute('onclick',"showChangeUserInfo(this);");
                    newTd2.getElementsByTagName('button')[0].setAttribute('id',"btnChaUserInfo"+j.uId);
                    newTd2.getElementsByTagName('button')[1].setAttribute('id',"btnDelUserInfo"+j.uId);
                    newTd2.getElementsByTagName('button')[1].setAttribute('onclick',"deleteUserModal(this);");

                    // $(newTd3).children('button').attr('id',"btnChaUserInfo"+j.uid);
                    // $(newTd3).children('button').attr("onclick","showChangeUserInfo(this);"); //('onclick', "f(" +j.uid+ ")");
                    newTr.append(newTd2);

                    $(newTr).appendTo("#bs-table-list-myself tbody");
                    str++;
                }

            }
        };
        xhr.open('POST','getUsers',true);
        xhr.setRequestHeader("Content-type",
            "application/x-www-form-urlencoded; charset=UTF-8");
        xhr.send("state=*");

        $("#bs-table-list-myself").bootstrapTable('refresh');


    }

    //获取磁力链接信息
    $('#magnetLinksManager').on('click', function () {
        getMagnetLinks("*","1");
        $('#cur_dir_magnet_list').get(0).setAttribute("title","1");
    });

    function getMagnetLinks(key,page) {
        $.ajax({
            type:  "post",
            url:   "search",
            data: {
                page: page,
                pmagnet_link:"*",
                pfrom_which_se:"*",
                pmagnetlink_key: key
            },
            // dataType: "json",
            success : function (data) {
                loadMagnetLinksData(data);
                // console.log("获取数据成功");
                // console.log("data.rows:"+data.rows);
                // console.log("data.pageTotal:"+data.pageTotal);
            },
            // complete: function () {
            //     console.log("获取数据完成");
            //
            // },
            error: function () {
                console.log("获取数据失误");

                //提示信息
                //清空列表内容
                $('#magnetLinksTable tbody').empty();

                //修改表格标题头文本
                // class='col-1'
                var thead = "<tr>" +
                    "<th>#</th>" +
                    "<th>pid</th>" +
                    "<th>magnetLinkKey</th>" +
                    "<th>fromWhichSe</th>" +
                    "<th>crawledDate</th>" +
                    "<th>magnetLinkFileSize</th>" +
                    "<th>magnetLink</th>" +
                    "<th>操作</th><tr>"
                $('#magnetLinksTable thead').html(thead);

                var newTr = document.createElement('tr');
                newTr.style.marginLeft = '50px';

                var newTd1 = document.createElement('td');

                //序号
                newTd1.innerHTML = "<td>" + "--" + "</td>";
                var newTd2 = document.createElement('td');
                //提示信息
                newTd2.innerHTML = "<td>" + "获取数据失败，请刷新" + "</td>";
                newTr.append(newTd2);
                $(newTr).appendTo("#magnetLinksTable tbody");


            }
        });
    }

    //加载数据，更新磁力信息表格
    function loadMagnetLinksData(data) {

        //清空列表内容
        $('#magnetLinksTable tbody').empty();

        //修改表格标题头文本
        // class='col-1'
        var thead = "<tr>" +
            "<th>#</th>" +
            "<th>pid</th>" +
            "<th>magnetLinkKey</th>" +
            "<th>fromWhichSe</th>" +
            "<th>crawledDate</th>" +
            "<th>magnetLinkFileSize</th>" +
            "<th>magnetLink</th>" +
            "<th>操作</th><tr>"
        $('#magnetLinksTable thead').html(thead);
        // var jsonObj = JSON.parse(data.rows);
        // console.log("进入loadMagnetLinksData\n"+jsonObj);

        var str = 0;
        for (var j of data.rows) {

            //新建tr-->一行内容
            var newTr = document.createElement('tr');
            newTr.style.marginLeft = '50px';

            var newTd1 = document.createElement('td');

            //序号
            newTd1.innerHTML = "<td>" + (str + 1) + "</td>";
            newTr.append(newTd1);
            // "<th class='col-1'>pid</th>" +
            // "<th class='col-2'>magnetLinkKey</th>" +
            // "<th class='col-3'>fromWhichSe</th>" +
            // "<th class='col-2'>crawledDate</th>" +
            // "<th class='col-1'>magnetLinkFileSize</th>" +
            // " <th class='col-2'>magnetLink</th><tr>"
            // crawledDate   fromWhichSe   magnetDownloadTimes  magnetLink
            // magnetLinkFileSize  magnetLinkKey  magnetLinkSize  pid: 143
            var jArr = [j.pid, j.magnetLinkKey, j.fromWhichSe,
                j.crawledDate.substring(0,10), j.magnetLinkFileSize,j.magnetLink];
            // console.log(str+":"+jArr);

            for (var t = 0; t < 6; t++) {
                //动态新建td
                var newTd = document.createElement('td');
                // newTd.setAttribute('class', "col-1")
                var curTr = jArr[t];
                newTd.setAttribute("title",curTr);

                var innerText = document.createTextNode(curTr);
                newTd.appendChild(innerText);
                newTr.append(newTd);

            }

            //按钮
            var newTd2 = document.createElement('td');
            newTd2.innerHTML = "<td class='col-2'>" +
                "<button class='btn btn-success btn-xs' data-toggle='modal' >修改</button>" +
                "<button class=\"btn btn-danger btn-xs\" data-toggle=\"modal\">删除</button>" +
                " </td>";

            /**
             crawledDate: "2020-06-16T00:00:00.000+0000"
             fromWhichSe: "torKitty"
             magnetDownloadTimes: 0
             magnetLink: "magnet:?xt=urn:btih:0B18A86BCFE14E15C0E68F8ED204663058E43835&dn=M%E5%B0%B1%E6%98%AF%E5%87%B6%E6%89%8B.1931.%E5%9B%BD%E5%BE%B7%E5%8F%8C%E8%AF%AD.%E7%AE%80%E7%B9%81%E4%B8%AD%E5%AD%97%EF%BF%A1CMCT%E7%8E%84%E5%AD%90&tr=udp%3A%2F%2Ftracker.openbittorrent.com%3A80&tr=udp%3A%2F%2Ftracker.publicbt.com%3A80&tr=udp%3A%2F%2Ftracker.ccc.de%3A80&tr=http%3A%2F%2Ftracker.hdcmct.com%3A2710%2Fannounce"
             magnetLinkFileSize: "3.20 GB"
             magnetLinkKey: "M就是凶手.1931.国德双语.简繁中字￡CMCT玄子"
             magnetLinkSize: 0
             pid: 143
             */
            newTd2.getElementsByTagName('button')[0].setAttribute('onclick', "showChangeMagnetLinkInfo(this);");
            newTd2.getElementsByTagName('button')[0].setAttribute('id', "btnChangeMagnetLinkInfo" + j.pid);
            newTd2.getElementsByTagName('button')[1].setAttribute('id', "btnDelMagnetLinkInfo" + j.pid);
            newTd2.getElementsByTagName('button')[1].setAttribute('onclick', "deleteMagnetLinkModal(this);");

            // $(newTd3).children('button').attr('id',"btnChaUserInfo"+j.uid);
            // $(newTd3).children('button').attr("onclick","showChangeUserInfo(this);"); //('onclick', "f(" +j.uid+ ")");
            newTr.append(newTd2);

            $(newTr).appendTo("#magnetLinksTable tbody");
            str++;
            $("#magnetLinksTable").bootstrapTable('refresh');

        }
    }


    //磁力链接信息分页
    //磁力信息翻页
    // 上一页
    $('#btnBack').on("click",function () {
        console.log("你点击了上一页按钮");
        let curPage = $('#cur_dir_magnet_list').get(0).getAttribute("title");

        if (curPage < 5){
            // $('#btnNext').get(0).setAttribute("disabled","");
            $('#btnNext').removeAttr("disabled");

        }

        if (curPage > 1){
            curPage--;
            $('#cur_dir_magnet_list').get(0).setAttribute("title",curPage);
            getMagnetLinks("*",curPage);
        }
        if (curPage === 1){
            $('#btnBack').attr("disabled",true);
            // $('#btnBack').get(0).setAttribute("disabled","disabled");

        }else{
            // $('#btnBack').get(0).setAttribute("disabled","");
            $('#btnBack').removeAttr("disabled");

        }

    });

    //下一页
    $('#btnNext').on("click",function () {

        console.log("你点击了下一页按钮");
        let curPage = $('#cur_dir_magnet_list').get(0).getAttribute("title");
        if (curPage === 1){
            // $('#btnBack').get(0).setAttribute("disabled","");
            $('#btnBack').removeAttr("disabled");

        }
        if (curPage < 5){
            curPage++;
            $('#cur_dir_magnet_list').get(0).setAttribute("title",curPage);
            getMagnetLinks("*",curPage);
        }
        if (curPage === 4){
            // $('#btnNext').get(0).setAttribute("disabled","disabled");
            $('#btnNext').attr("disabled",true);
        }else{
            // $('#btnNext').get(0).setAttribute("disabled","");
            $('#btnBack').removeAttr("disabled");

        }

    });

    //修改用户信息窗口
    function showChangeUserInfo(btn){
        $(function() {
            $('#reviseUser').modal('show');
        });
        var id = $(btn).parent().parent().find("td").next().html();

        $('#reviseUser').on('shown.bs.modal', function () {
            $('#chUserInfoSpan').html(id);

            var tableObj = $(btn).get(0).parentElement.parentElement;
            var tdObj = tableObj.getElementsByTagName('td');

            //获取点击行数据
            var userName   = tdObj[2].innerHTML;
            var userPsw  = tdObj[3].innerHTML;
            var userPhone  = tdObj[4].innerHTML;
            var userEmail  = tdObj[5].innerHTML;


            $('#UserInfoName').prop('value',userName);
            $('#UserInfoMail').prop('value',userEmail);
            $('#UserInfoPsw').prop('value',userPsw);
            $('#UserInfoPhone').prop('value',userPhone);

            //确认修改
            $('#btnChangeUserInfo').on('click',function () {
                //初始化修改窗口中的内容

                var name = $('#UserInfoName').val();
                var password = $('#UserInfoPsw').val();
                var mail = $('#UserInfoMail').val();
                var phone = $('#UserInfoPhone').val();
                // console.log("name" +name);
                // console.log("mail"+mail);
                // console.log("phone",phone);

                if (name === "" || name === null || mail === "" || mail === null || password === "" || password === null
                    || phone === "" || phone === null){
                    alert("请完善信息");
                }else {
                    $.ajax({
                        url:"changeUserInfo",
                        type:"POST",
                        // Long id, String name, String email, String phone
                        data:{"id":id,
                            "name":name,
                            "password":password,
                            "email":mail,
                            "phone":phone
                        },
                        success:function (result) {
                            //关闭窗口
                            $('#reviseUser').modal('hide');

                            if (result === "true"){
                                // alert("修改用户信息成功！");
                                //刷新列表
                                getUserTable("");
                            }else if (result === "false"){
                                alert("修改用户信息失败");
                            }else{
                                alert("修改信息失败（ 未知错误，请反馈问题！ ）--- " + result);
                            }
                        },
                        error:function () {
                            alert("修改用户信息错误！");
                        }
                    });
                }
            });
        });

    }

    //删除用户弹窗
    function deleteUserModal(btn) {
        $(function() {
            $('#deleteUser').modal('show');
        });
        var id = $(btn).parent().parent().find("td").next().html();
        console.log("id=="+id);
        $('#deleteUser').on('shown.bs.modal', function () {
            $('#delUserIdSpan').html(id);

            //确认修改
            $('#btnDelUserSure').on('click',function () {
                $.ajax({
                    url:"delUserInfo",
                    type:"POST",
                    data:{"id":id,"state":"deleteUser"},
                    success:function (result) {
                        $('#deleteUser').modal('hide');
                        if (result === "true"){
                            // alert("删除用户成功！");
                        }else {
                            alert("删除用户失败");
                        }

                    },
                    complete: function(){
                        //刷新列表
                        getUserTable("");
                    },
                    error:function () {
                        alert("删除用户错误！");
                    }
                });
            });
        });

    }

    //磁力链接管理弹窗
    //修改磁力链接信息窗口
    function showChangeMagnetLinkInfo(btn) {

        $('#changeMagnetInfo').modal('show');

        //$(btn).parent().parent().html()===
        // <td>1</td>
        // <td title="143">143</td>
        // <td title="M就是凶手.1931.国德双语.简繁中字￡CMCT玄子">M就是凶手.1931.国德双语.简繁中字￡CMCT玄子</td>
        // <td title="torKitty">torKitty</td>
        // <td title="2020-06-16">2020-06-16</td>
        // <td title="3.20 GB">3.20 GB</td>
        // <td title="magnet:?xt=urn:btih:0B18A86BCFE14E15C0E68F8ED204663058E43835&amp;dn=M%E5%B0%B1%E6%98%AF%E5%87%B6%E6%89%8B.1931.%E5%9B%BD%E5%BE%B7%E5%8F%8C%E8%AF%AD.%E7%AE%80%E7%B9%81%E4%B8%AD%E5%AD%97%EF%BF%A1CMCT%E7%8E%84%E5%AD%90&amp;tr=udp%3A%2F%2Ftracker.openbittorrent.com%3A80&amp;tr=udp%3A%2F%2Ftracker.publicbt.com%3A80&amp

        var mid = $(btn).parent().parent().find("td").next().html();

        $('#changeMagnetInfo').on('shown.bs.modal', function () {
            $('#chMagnetInfoSpan').html(mid);

            var tableObj = $(btn).get(0).parentElement.parentElement;
            var tdObj = tableObj.getElementsByTagName('td');
            //获取点击行数据
            var magnetLinkKey = tdObj[2].innerHTML;
            var fromWhichSe = tdObj[3].innerHTML;
            var magnetLink = tdObj[6].innerHTML;

            // inputMagnetInfoName inputFromWhichSe  inputMagnetLink
            $('#inputMagnetInfoName').prop('value', magnetLinkKey);
            $('#inputFromWhichSe').prop('value', fromWhichSe);
            $('#inputMagnetLink').prop('value', magnetLink);

            //确认修改
            $('#btnChangeMagnetInfo').on('click', function () {
                //初始化修改窗口中的内容

                var key = $('#inputMagnetInfoName').val();
                var from = $('#inputFromWhichSe').val();
                var link = $('#inputMagnetLink').val();

                if (key === "" || key === null || from === "" || from === null
                    || link === "" || link === null) {
                    alert("请完善磁力信息");
                } else {
                    $.ajax({
                        url:"changeMagnetLinkInfo",
                        type:"POST",
                        // Long id, String magnetLinkKey, String fromWhichSe, String magnetLink
                        data:{"id":mid,
                            "magnetLinkKey":key,
                            "fromWhichSe":from,
                            "magnetLink":link

                        },
                        success:function (result) {
                            if (result === "true"){
                                alert("修改磁力信息成功！");

                            }else if (result === "false"){
                                alert("修改磁力信息失败");
                            }else{
                                alert("修改磁力信息失败 " + result);
                            }

                        },
                        complete : function(){
                            //关闭窗口
                            $(function() {
                                $('#changeMagnetInfo').modal('hide');
                            });

                            //刷新列表
                            getMagnetLinks("*","1");
                            $('#cur_dir_magnet_list').get(0).setAttribute("title","1");

                        },

                        error:function () {
                            alert("修改用户信息错误！");
                        }
                    });
                }
            });
        });
    }

    //删除磁力链接
    function deleteMagnetLinkModal(btn) {
        $('#deleteMagnetLink').modal('show');

        var mid = $(btn).parent().parent().find("td").next().html();
        $('#deleteMagnetLink').on('shown.bs.modal', function () {
            $('#delMagnetLinkSpan').html(mid);

            //确认修改
            $('#btnDelLink').on('click', function () {
                // alert("你点击了确认磁力链接删除");
                $.ajax({
                    url: "delMagnetLinkInfo",
                    type: "POST",
                    data: {"id": mid, "state": "deleteLink"},
                    success: function (result) {
                        if (result === "true"){
                            console.log("删除成功")
                        }else {
                            alert("删除磁力链接失败！");
                        }
                        // //刷新列表
                        // getUserTable("");

                    },
                    complete: function(){
                        $('#deleteMagnetLink').modal('hide');
                        getMagnetLinks("*","1");
                        $('#cur_dir_magnet_list').get(0).setAttribute("title","1");

                    },
                    error: function () {
                        alert("删除磁力链接error！");
                    }
                });
            });
        });
    }


    $('#btnFindLinks').on("click",function () {
        alert("你点击了查询按钮");
    });


    //获取爬虫参数信息
    $('#setCrawlerParams').on('click',getCraParameter());

    function getCraParameter() {
        $.ajax({
            url:"getCrawlerParams",
            type:"post",
            dataType: "json",

            success:function (data) {
                loadParameterData(data);
                // console.log(data)
            },
            complete:function(){
                $("#params-table").bootstrapTable('refresh');
            },
            error:function () {
                console.log("data error");
            }

        })
    }

    function loadParameterData(data) {
        // crawlerParams.cron: "0 0 22 ? * 2,3,4,5,6"
        // crawlerParams.host: "http://www.torkitty.com/search/"
        // crawlerParams.threadNums: "10"
        // site.setCharset: "utf-8"
        // site.setCycleRetryTimes: "3"
        // site.setHttpProxy: "222.95.21.71:11862"
        // site.setRetryTimes: "3"
        // site.setTimeOut: "3000"
        // inputFromSe inputThreadNum inputCron inputCharset inputTimeOut inputRetryTimes inputProxy
        // var host = data.host;
        // var threadNums = threadNums;
        // var cron = data.cron;
        // var setCharset = data.setCharset;
        // var setTimeOut = data.setTimeOut;
        // var setCycleRetryTimes = data.setCycleRetryTimes;
        // var setHttpProxy = data.setHttpProxy;
        // console.log("data.host=="+host);
        // console.log("threadNums=="+threadNums);
        // console.log("cron=="+cron);
        // console.log("data.setCharset=="+setCharset);
        // console.log("setTimeOut=="+setTimeOut);
        // console.log("setCycleRetryTimes=="+setCycleRetryTimes);
        // console.log("setHttpProxy=="+setHttpProxy);

        $('#inputFromSe').prop('value',data.host);
        $('#inputThreadNum').prop('value',data.threadNums);
        $('#inputCron').prop('value',data.cron);
        $('#inputCharset').prop('value',data.setCharset);
        $('#inputTimeOut').prop('value',data.setTimeOut);
        $('#inputRetryTimes').prop('value',data.setCycleRetryTimes);
        $('#inputProxy').prop('value',data.setHttpProxy);
    }

    function changeParaFun(){

        var host = $('#inputFromSe').val();
        var threadNums = $('#inputThreadNum').val();
        var cron = $('#inputCron').val();
        var setCharset = $('#inputCharset').val();
        var setTimeOut = $('#inputTimeOut').val();
        var setCycleRetryTimes = $('#inputRetryTimes').val();
        var setHttpProxy = $('#inputProxy').val();
        if (host === "" || host === null || threadNums === "" || threadNums === null
            || cron === "" || cron === null
            || setCharset === "" || setCharset === null
            || setTimeOut === "" || setTimeOut === null
            || setCycleRetryTimes === "" || setCycleRetryTimes === null
            || setHttpProxy === "" || setHttpProxy === null){
            alert("请完善信息");

        }else {

            $.ajax({
                url:"changeCrawlerParams",
                data: {
                    "host" : host,
                    "threadNums" : threadNums,
                    "cron" : cron,
                    "setCharset": setCharset,
                    "setTimeOut" : setTimeOut,
                    "setCycleRetryTimes": setCycleRetryTimes,
                    "setHttpProxy":setHttpProxy
                },
                type:"post",
                dataType: "json",

                success:function (result) {
                    // if (result === "true"){
                    //     console.log("修改参数成功");
                    //     getCraParameter();
                    // }else{
                    //     alert("修改参数失败");
                    // }
                },
                complete:function(){
                    alert("修改参数成功");
                    $("#params-table").bootstrapTable('refresh');
                },
                error:function () {
                    console.log("data error");
                }

            });
        }
    }

    $('#createIndex').on('click',function () {
        $.ajax({
            url:"createIndex",
            type:"post",
            dataType: "json",

            success:function (result) {
                console.log(result );
                // if (result === "true"){
                    alert("创建成功");
                // }
            },
            complete:function(){
                alert("创建成功");
            },
            error:function () {
                console.log("data error");
            }
        });
    });

    $('#deleteIndex').on('click',function () {
        $.ajax({
            url:"deleteIndex",
            type:"post",
            success:function (result) {
                if (result === "true"){
                    alert("删除成功");
                }
            },
            error:function () {
                console.log("data error");
            }
        });
    });
    $('#syncIndex').on('click',function () {
        $.ajax({
            url:"magnetLinkData",
            type:"post",
            success:function (result) {
                if (result === "true"){
                    alert("同步成功");
                }
            },
            error:function () {
                console.log("data error");
            }
        });
    });

</script>